```java
Этот upsert нужен, чтобы идемпотентно записывать курс по спецификации: в таблице должна существовать ровно одна запись для комбинации (fxratesubtype, isonum1, isonum2, use_date).

Логика такая:

если записи с таким ключом ещё нет — делаем INSERT;

если уже есть (пришла повторная выгрузка/дубликат/обновление за ту же дату) — по ON CONFLICT (...) DO UPDATE обновляем технические и значимые поля (rquid, rgtm, code1, code2, lot_size, value) вместо создания дубля.
```
